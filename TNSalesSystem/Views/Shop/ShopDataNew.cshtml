@model TNSalesSystem.Domain.Shop.ShopData
@{
    ViewBag.Title = "ShopDataNew";
    Layout = "~/Views/Shared/Main/_Layout.cshtml";
}
<script src="~/Content/jquery.modal-master/js/jquery-latest.min.js"></script>
<link href="~/Content/jquery.modal-master/css/jquery.modal.css" rel="stylesheet" />
<link href="~/Content/jquery.modal-master/css/jquery.modal.theme-xenon.css" rel="stylesheet" />
<link href="~/Content/jquery.modal-master/css/jquery.modal.theme-atlant.css" rel="stylesheet" />
<script src="~/Content/jquery.modal-master/js/jquery.modal.js"></script>
<script src="../../Content/jquery-ui-1.11.4.custom/external/jquery/jquery.js" type="text/javascript"></script>
<link href="../../Content/x-editable-master/dist/jqueryui-editable/css/jqueryui-editable.css"
    rel="stylesheet" />
<script src="../../Content/x-editable-master/dist/jqueryui-editable/js/jqueryui-editable.js"></script>
<script type="text/javascript" src="../../Content/jquery-ui-1.11.4.custom/jquery-ui.min.js"></script>
<link href="../../Content/jquery-ui-1.11.4.custom/jquery-ui.css" rel="stylesheet"
    type="text/css" />
<script src="../../Content/jquery-ui-1.11.4.custom/jquery-ui.min.js" type="text/javascript"></script>
<link href="../../Content/jquery-ui-1.11.4.custom/jquery-ui.structure.css" rel="stylesheet"
    type="text/css" />
<link href="../../Content/jquery-ui-1.11.4.custom/jquery-ui.structure.min.css" rel="stylesheet"
    type="text/css" />
<link href="../../Content/jquery-ui-1.11.4.custom/jquery-ui.theme.css" rel="stylesheet"
    type="text/css" />
<link href="../../Content/jquery-ui-1.11.4.custom/jquery-ui.theme.min.css" rel="stylesheet"
    type="text/css" />
<link href="~/Content/jquery-ui-1.11.4.custom/Custom.css" rel="stylesheet" />
<link href="~/Content/MainCSS/Main.css" rel="stylesheet" />
<script src="~/Content/chosen/chosen.jquery.min.js"></script>
<link href="~/Content/chosen/chosen.min.css" rel="stylesheet" />
<script>
    var $j = jQuery.noConflict();
    $j(function () {
        $j("#txtSavedData").datepicker();
        $j("#txtShopName").attr("disabled", "disabld");
        $j(".chosen-select").chosen({ max_selected_options: 5 });
    });
    function GetShopNameAjax() {
        $j.ajax({
            url: '../Shop/GetShopNameAjax?city=' + $j("#txtCity").val(),
            error: function () {                
                  // alert("An error occoured while geting shop name");
                modal({
                    type: 'error',
                    title: 'Error',
                    text: 'An error occoured while geting records',
                    center: false,
                });
            },
            beforeSend: function () {
                $j("#img").show();
            },
            success: function (response) {
                $j("#txtShopName").val(response);
                $j("#hidShopName").val(response);
                $j("#img").hide();
            },

        });
    }
    function ValidateForm() {
        if (document.getElementById("txtShopName").value == "" || document.getElementById("txtShopName").value == null) {
            // alert("Shop name cannot be blank");
            modal({
                type: 'warning',
                title: 'Warning',
                text: 'Shop name cannot be blank.',
                center: false,
            });
            document.getElementById("txtCity").focus();
            return false;
        }
        else if (document.getElementById("txtAddress1").value == "" || document.getElementById("txtAddress1").value == null) {
            // alert("Please enter the shop address1");
            modal({
                type: 'warning',
                title: 'Warning',
                text: 'Please enter the shop address1.',
                center: false,
            });
            document.getElementById("txtAddress1").focus();
            return false;
        }
        else if (document.getElementById("txtCity").value == "" || document.getElementById("txtCity").value == null) {
            // alert("Please enter shop city");
            modal({
                type: 'warning',
                title: 'Warning',
                text: 'Please enter shop city.',
                center: false,
            });
            document.getElementById("txtCity").focus();
            return false;
        }
        else if (document.getElementById("ddlDistrict").value == "0" || document.getElementById("ddlDistrict").value == 0) {
           // alert("Please enter shop district");
            modal({
                type: 'warning',
                title: 'Warning',
                text: 'Please enter shop district.',
                center: false,
            });
            document.getElementById("ddlDistrict").focus();
            return false;
        }
        else if (document.getElementById("ddlTaluk").value == "0" || document.getElementById("ddlTaluk").value == 0) {
            //alert("Please enter shop taluk");
            modal({
                type: 'warning',
                title: 'Warning',
                text: 'Please enter shop taluk.',
                center: false,
            });
            document.getElementById("ddlTaluk").focus();
            return false;
        }
        else {
            document.getElementById("ShopDataNew").submit();
            return true;
        }

    }
    function CallReset() {
        window.location.reload();
    }
</script>
<style type="text/css">
    td {
        border: none;
        font-size: 12px;
        font-weight: 600;
        color: black;
        font-family: Verdana, Arial, Helvetica, sans-serif;
    }
</style>
<div id="center">
    <table cellspacing="0" cellpadding="0" border="0" align="center">
        <tr>
            <td class="reborder">New Shop
            </td>
        </tr>
    </table>
</div>
<form name="ShopDataNew" id="ShopDataNew" method="post" action="ShopDataNew">
    <table cellpadding="3px" cellspacing="3px" align="center" style="background-color: ButtonShadow;" border="0">
        <tr>
            <td colspan="4" class="RowHeadSection">Shop Details
            </td>
        </tr>
        <tr>
            <td>Shop name
            </td>
            <td>
                @Html.TextBoxFor(model => model.ShopName, new { @id = "txtShopName", @class = "normaltextbox" })
                @Html.HiddenFor(Model => Model.ShopName, new { @id = "hidShopName" })
                <span id="img" style="display: none;">
                    <img src="~/Content/images/small_load.gif" /></span>

            </td>
            <td>Shop address 1
            </td>
            <td>
                @Html.TextBoxFor(model => model.Address1, new { @id = "txtAddress1", @class = "normaltextbox" })
            </td>
        </tr>
        <tr>
            <td>Shop address 2
            </td>
            <td>
                @Html.TextBoxFor(model => model.Address2, new { @id = "txtAddress2", @class = "normaltextbox" })
            </td>
            <td>Shop city
            </td>
            <td>
                @Html.TextBoxFor(model => model.City, new { @id = "txtCity", @class = "normaltextbox", @onchange = "GetShopNameAjax();" })
            </td>
        </tr>
        <tr>
            <td>Shop district
            </td>
            <td>
                @Html.DropDownListFor(Model => Model.District, (SelectList)ViewBag.Districts, new { @id = "ddlDistrict", @class = "normalselectbox chosen-select", @style = "width: 180px;height: 28px;" })
            </td>
            <td>Shop taluk
            </td>
            <td>
                @Html.DropDownListFor(Model => Model.Taluk, (SelectList)ViewBag.Taluks, new { @id = "ddlTaluk", @class = "normalselectbox chosen-select", @style = "width: 180px;height: 28px;" })
            </td>

        </tr>
        <tr>
            <td>Shop state
            </td>
            <td>
                @Html.DropDownListFor(Model => Model.State, (SelectList)ViewBag.States, new { @id = "ddlState", @class = "normalselectbox chosen-select", @style = "width: 180px;height: 28px;" })
            </td>
            <td>Shop country
            </td>
            <td>
                @Html.DropDownListFor(Model => Model.Country, (SelectList)ViewBag.Coutries, new { @id = "ddlCoutry", @class = "normalselectbox chosen-select", @style = "width: 180px;height: 28px;" })
            </td>

        </tr>
        <tr>
            <td>Shop postal code
            </td>
            <td>
                @Html.TextBoxFor(model => model.PostalCode, new { @id = "txtPostalCode", @class = "normaltextbox" })
            </td>
            <td>Saved date
            </td>
            <td>
                @Html.TextBoxFor(model => model.SavedData, new { @id = "txtSavedData", @class = "normaltextbox" })
            </td>
        </tr>
    </table>
    <br />
    <div style="width: 26%; display: block; margin-left: auto; margin-right: auto;">
        <input type="button" value="Submit" class="myButton" onclick="ValidateForm()" />
        <input type="button" value="Clear" class="myButton" onclick="CallReset()" />
    </div>
</form>
